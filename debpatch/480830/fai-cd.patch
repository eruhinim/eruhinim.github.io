Index: fai-cd
===================================================================
--- fai-cd	(Revision 0)
+++ fai-cd	(Arbeitskopie)
@@ -177,8 +177,10 @@
 # mirror location for fai CD, file generated by fai-cd
 EOF
 
-    dists=$(find $mirrordir -name "Packages*" | grep binary | sed 's/binary-.*//' | \
-         sed "s#$mirrordir/*dists/##" | xargs -n 1 dirname | uniq )
+	if [ -n "$(ls -A $mirrordir)" ]; then
+    	dists=$(find $mirrordir -name "Packages*" | grep binary | sed 's/binary-.*//' | \
+        	sed "s#$mirrordir/*dists/##" | xargs -n 1 dirname | uniq )
+	fi
 
     for i in $dists ; do
 	comp=$(find $mirrordir/dists/$i -maxdepth 2 -type d -name "binary-*" | \
@@ -256,7 +258,7 @@
     cfdir=$FAI_ETC_DIR
 fi
 [ -n "$cdir" ] && cfdir=$cdir
-${cfdir:=/etc/fai}
+cfdir=${cfdir:=/etc/fai}
 cfdir=$(readlink -f $cfdir) # canonicalize path
 if [ ! -d "$cfdir" ]; then
     echo "$cfdir is not a directory"
