--- apache2-maintscript-helper.old	2013-06-07 08:19:16.000000000 +0200
+++ apache2-maintscript-helper	2013-06-07 09:01:03.000000000 +0200
@@ -75,7 +75,9 @@
 		return 1
 	fi
 
-	APACHE2_MAINTSCRIPT_NAME="${0##*.}"
+	APACHE2_MAINTSCRIPT_NAME="$DPKG_MAINTSCRIPT_NAME"
+	[ "$APACHE2_MAINTSCRIPT_NAME" ] || APACHE2_MAINTSCRIPT_NAME="${0##*.}"
+
 	case "$APACHE2_MAINTSCRIPT_NAME" in
 		preinst|prerm|postrm|postinst)
 			# yay - recognized script
@@ -86,8 +88,11 @@
 		;;
 	esac
 
-	APACHE2_MAINTSCRIPT_PACKAGE="${0##*/}"
-	APACHE2_MAINTSCRIPT_PACKAGE="${APACHE2_MAINTSCRIPT_PACKAGE%.*}"
+	APACHE2_MAINTSCRIPT_PACKAGE="$DPKG_MAINTSCRIPT_PACKAGE"
+	if [ -z "$APACHE2_MAINTSCRIPT_PACKAGE" ]; then
+		APACHE2_MAINTSCRIPT_PACKAGE="${0##*/}"
+		APACHE2_MAINTSCRIPT_PACKAGE="${APACHE2_MAINTSCRIPT_PACKAGE%.*}"
+	fi
 
 	APACHE2_MAINTSCRIPT_METHOD="$1"
 	APACHE2_MAINTSCRIPT_ARGUMENT="${2:-}"
